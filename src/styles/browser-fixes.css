/**
 * Cross-browser compatibility fixes
 */

/* Common fixes */
:root {
  --vh: 1vh; /* Dynamic viewport height variable */
}

/* Use the custom viewport height variable instead of vh */
.use-vh {
  height: calc(var(--vh, 1vh) * 100);
}

/* Edge fixes */
.browser-edge .edge-grid-fix {
  display: -ms-grid;
  display: grid;
}

.browser-edge .edge-flex-fix {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.browser-edge .backdrop-blur {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Chrome fixes */
.browser-chrome .chrome-animation-fix {
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Firefox fixes */
.browser-firefox .firefox-animation-fix {
  will-change: transform;
  transform: translate3d(0, 0, 0);
}

.browser-firefox input[type="number"] {
  -moz-appearance: textfield;
}

.browser-firefox input[type="number"]::-webkit-inner-spin-button,
.browser-firefox input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox thin scrollbar fix */
.firefox-scrollbar-thin {
  scrollbar-width: thin;
}

/* Safari fixes */
.browser-safari .safari-flex-fix {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
}

.browser-safari .safari-backdrop-fix {
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

.browser-safari .transform-fix {
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
}

/* CSS Grid fixes for all browsers */
@supports (display: grid) {
  .grid-container {
    display: grid;
  }
}

@supports not (display: grid) {
  .grid-container {
    display: flex;
    flex-wrap: wrap;
  }
  
  .grid-container > * {
    flex: 1 1 auto;
    margin: 0.5rem;
  }
}

/* Flexbox fixes for all browsers */
.flex-center {
  display: flex;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  justify-content: center;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
  -ms-flex-pack: center;
  align-items: center;
  -webkit-box-align: center;
  -webkit-align-items: center;
  -ms-flex-align: center;
}

/* Animation fixes for all browsers */
.hardware-accelerated {
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  -moz-transform: translateZ(0);
  -ms-transform: translateZ(0);
  -o-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  perspective: 1000;
  -webkit-perspective: 1000;
}

/* Font rendering improvements */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Focus outline standardization */
:focus {
  outline: 3px solid rgba(66, 153, 225, 0.5); /* Consistent focus ring */
}

/* Edge and IE scrollbar styling */
@supports (-ms-ime-align:auto) {
  * {
    scrollbar-width: thin;
  }
}
